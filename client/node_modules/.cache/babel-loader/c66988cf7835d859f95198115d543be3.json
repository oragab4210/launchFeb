{"ast":null,"code":"var _jsxFileName = \"/Users/omarragab/Documents/Programming/ResumeProject1/client/src/utils/requireAuth.js\";\nimport React, { useEffect } from \"react\";\nimport { useQuery } from \"@apollo/client\";\nimport getCurrentUser from \"../queries/CurrentUser\";\nimport LoginPage from \"../_pages/LoginPage\";\nimport history from \"./history\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const x = WrappedComponent => {\n  var _s = $RefreshSig$();\n\n  const RequireAuth = props => {\n    _s();\n\n    const {\n      loading,\n      error,\n      data\n    } = useQuery(getCurrentUser);\n    useEffect(() => {\n      if (!loading && !data.user2) {// props.history.push(\"/login\");\n      }\n    }, [data]);\n\n    if (data === null || data === void 0 ? void 0 : data.user2) {\n      return /*#__PURE__*/_jsxDEV(WrappedComponent, { ...props\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 14\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(LoginPage, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 14\n      }, this);\n    }\n  };\n\n  _s(RequireAuth, \"MIyWK+WDGXozRNXYyIBuaVd7f4g=\", false, function () {\n    return [useQuery];\n  });\n\n  return RequireAuth;\n};","map":{"version":3,"sources":["/Users/omarragab/Documents/Programming/ResumeProject1/client/src/utils/requireAuth.js"],"names":["React","useEffect","useQuery","getCurrentUser","LoginPage","history","x","WrappedComponent","RequireAuth","props","loading","error","data","user2"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,QAAT,QAAyB,gBAAzB;AACA,OAAOC,cAAP,MAA2B,wBAA3B;AACA,OAAOC,SAAP,MAAsB,qBAAtB;AACA,OAAOC,OAAP,MAAoB,WAApB;;AAEA,OAAO,MAAMC,CAAC,GAAIC,gBAAD,IAAsB;AAAA;;AACrC,QAAMC,WAAW,GAAIC,KAAD,IAAW;AAAA;;AAC7B,UAAM;AAAEC,MAAAA,OAAF;AAAWC,MAAAA,KAAX;AAAkBC,MAAAA;AAAlB,QAA2BV,QAAQ,CAACC,cAAD,CAAzC;AAEAF,IAAAA,SAAS,CAAC,MAAM;AACd,UAAI,CAACS,OAAD,IAAY,CAACE,IAAI,CAACC,KAAtB,EAA6B,CAC3B;AACD;AACF,KAJQ,EAIN,CAACD,IAAD,CAJM,CAAT;;AAMA,QAAIA,IAAJ,aAAIA,IAAJ,uBAAIA,IAAI,CAAEC,KAAV,EAAiB;AACf,0BAAO,QAAC,gBAAD,OAAsBJ;AAAtB;AAAA;AAAA;AAAA;AAAA,cAAP;AACD,KAFD,MAEO;AACL,0BAAO,QAAC,SAAD;AAAA;AAAA;AAAA;AAAA,cAAP;AACD;AACF,GAdD;;AADqC,KAC/BD,WAD+B;AAAA,YAEFN,QAFE;AAAA;;AAgBrC,SAAOM,WAAP;AACD,CAjBM","sourcesContent":["import React, { useEffect } from \"react\";\nimport { useQuery } from \"@apollo/client\";\nimport getCurrentUser from \"../queries/CurrentUser\";\nimport LoginPage from \"../_pages/LoginPage\";\nimport history from \"./history\";\n\nexport const x = (WrappedComponent) => {\n  const RequireAuth = (props) => {\n    const { loading, error, data } = useQuery(getCurrentUser);\n\n    useEffect(() => {\n      if (!loading && !data.user2) {\n        // props.history.push(\"/login\");\n      }\n    }, [data]);\n\n    if (data?.user2) {\n      return <WrappedComponent {...props} />;\n    } else {\n      return <LoginPage />;\n    }\n  };\n  return RequireAuth;\n};\n"]},"metadata":{},"sourceType":"module"}