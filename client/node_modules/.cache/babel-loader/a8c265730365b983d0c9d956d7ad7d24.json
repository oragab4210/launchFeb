{"ast":null,"code":"var _jsxFileName = \"/Users/omarragab/Documents/Programming/ResumeProject1/client/src/utils/requireAuth.js\";\nimport React, { useEffect } from \"react\";\nimport { useQuery } from \"@apollo/client\";\nimport getCurrentUser from \"../GQL/queries/CurrentUser\";\nimport LoginPage from \"../_pages/LoginPage/LoginPage\"; // import history from \"./history\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst RequireAuth = WrappedComponent => {\n  var _s = $RefreshSig$();\n\n  const CheckAuth = props => {\n    _s();\n\n    const {\n      loading,\n      error,\n      data\n    } = useQuery(getCurrentUser);\n    useEffect(() => {\n      if (!loading && !data.user2) {// props.history.push(\"/login\");\n      }\n    }, [data]);\n\n    if (data === null || data === void 0 ? void 0 : data.user2) {\n      return /*#__PURE__*/_jsxDEV(WrappedComponent, { ...props\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 14\n      }, this);\n    } else {\n      // return <LoginPage />;\n      return null;\n    }\n  };\n\n  _s(CheckAuth, \"MIyWK+WDGXozRNXYyIBuaVd7f4g=\", false, function () {\n    return [useQuery];\n  });\n\n  return CheckAuth;\n};\n\n_c = RequireAuth;\nexport default RequireAuth;\n\nvar _c;\n\n$RefreshReg$(_c, \"RequireAuth\");","map":{"version":3,"sources":["/Users/omarragab/Documents/Programming/ResumeProject1/client/src/utils/requireAuth.js"],"names":["React","useEffect","useQuery","getCurrentUser","LoginPage","RequireAuth","WrappedComponent","CheckAuth","props","loading","error","data","user2"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,QAAT,QAAyB,gBAAzB;AACA,OAAOC,cAAP,MAA2B,4BAA3B;AACA,OAAOC,SAAP,MAAsB,+BAAtB,C,CACA;;;;AAEA,MAAMC,WAAW,GAAIC,gBAAD,IAAsB;AAAA;;AACxC,QAAMC,SAAS,GAAIC,KAAD,IAAW;AAAA;;AAC3B,UAAM;AAAEC,MAAAA,OAAF;AAAWC,MAAAA,KAAX;AAAkBC,MAAAA;AAAlB,QAA2BT,QAAQ,CAACC,cAAD,CAAzC;AAEAF,IAAAA,SAAS,CAAC,MAAM;AACd,UAAI,CAACQ,OAAD,IAAY,CAACE,IAAI,CAACC,KAAtB,EAA6B,CAC3B;AACD;AACF,KAJQ,EAIN,CAACD,IAAD,CAJM,CAAT;;AAMA,QAAIA,IAAJ,aAAIA,IAAJ,uBAAIA,IAAI,CAAEC,KAAV,EAAiB;AACf,0BAAO,QAAC,gBAAD,OAAsBJ;AAAtB;AAAA;AAAA;AAAA;AAAA,cAAP;AACD,KAFD,MAEO;AACL;AACA,aAAO,IAAP;AACD;AACF,GAfD;;AADwC,KAClCD,SADkC;AAAA,YAELL,QAFK;AAAA;;AAiBxC,SAAOK,SAAP;AACD,CAlBD;;KAAMF,W;AAoBN,eAAeA,WAAf","sourcesContent":["import React, { useEffect } from \"react\";\nimport { useQuery } from \"@apollo/client\";\nimport getCurrentUser from \"../GQL/queries/CurrentUser\";\nimport LoginPage from \"../_pages/LoginPage/LoginPage\";\n// import history from \"./history\";\n\nconst RequireAuth = (WrappedComponent) => {\n  const CheckAuth = (props) => {\n    const { loading, error, data } = useQuery(getCurrentUser);\n\n    useEffect(() => {\n      if (!loading && !data.user2) {\n        // props.history.push(\"/login\");\n      }\n    }, [data]);\n\n    if (data?.user2) {\n      return <WrappedComponent {...props} />;\n    } else {\n      // return <LoginPage />;\n      return null;\n    }\n  };\n  return CheckAuth;\n};\n\nexport default RequireAuth;\n"]},"metadata":{},"sourceType":"module"}