{"ast":null,"code":"import _slicedToArray from\"/Users/omarragab/Documents/Job/ResumeProject1/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import styles from\"./RegisterForm.module.css\";import React,{useState,useEffect}from\"react\";import{useMutation,useQuery}from\"@apollo/client\";import signUpMutation from\"../../../GQL/mutations/Signup\";import CurrentUserQuery from\"../../../GQL/queries/CurrentUser\";import history from\"../../../utils/history\";import LoadingSpinner from\"../../LoadingSpinner/LoadingSpinner\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var RegisterForm=function RegisterForm(_ref){var setShowModal=_ref.setShowModal,showModal=_ref.showModal;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),errors=_useState2[0],setErrors=_useState2[1];var _useMutation=useMutation(signUpMutation),_useMutation2=_slicedToArray(_useMutation,1),signup=_useMutation2[0];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),firstName=_useState4[0],setFirstName=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),lastName=_useState6[0],setLastName=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),name=_useState8[0],setName=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),email=_useState10[0],setEmail=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),password=_useState12[0],setPassword=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),loading=_useState14[0],setLoading=_useState14[1];useEffect(function(){var firstAndLastNameCombined=\"\".concat(firstName,\" \").concat(lastName);setName(firstAndLastNameCombined);console.log(name);},[firstName,lastName]);var _onSubmit=function onSubmit(e){e.preventDefault();setLoading(true);signup({variables:{name:name,email:email,password:password},refetchQueries:[{query:CurrentUserQuery}],awaitRefetchQueries:true}).then(function(e){return[e?history.push(\"/home\"):null,setLoading(false)];}).catch(function(err){var _err$graphQLErrors;var errors=(_err$graphQLErrors=err.graphQLErrors)===null||_err$graphQLErrors===void 0?void 0:_err$graphQLErrors.map(function(error){return error.message;});setErrors(errors);console.log(errors);});};return/*#__PURE__*/_jsxs(\"div\",{className:styles.formContainer,children:[/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return setShowModal(!showModal);},className:styles.xContainer,children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"24\",height:\"24\",className:styles.x,viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M24 20.188l-8.315-8.209 8.2-8.282-3.697-3.697-8.212 8.318-8.31-8.203-3.666 3.666 8.321 8.24-8.206 8.313 3.666 3.666 8.237-8.318 8.285 8.203z\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:styles.titleContainer,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Sign Up\"}),/*#__PURE__*/_jsx(\"p\",{children:\"It's quick and easy.\"}),/*#__PURE__*/_jsx(\"hr\",{className:styles.horizontalLine})]}),/*#__PURE__*/_jsxs(\"form\",{action:\"\",className:styles.form,onSubmit:function onSubmit(e){return _onSubmit(e);},children:[loading?/*#__PURE__*/_jsx(\"div\",{className:styles.LoadingSpinner,children:/*#__PURE__*/_jsx(LoadingSpinner,{})}):null,/*#__PURE__*/_jsxs(\"div\",{className:styles.sameLineInputContainer,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"First Name\",value:firstName,className:styles.sameLineInput,onChange:function onChange(e){return setFirstName(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Last Name\",value:lastName,className:styles.sameLineInput,onChange:function onChange(e){return setLastName(e.target.value);}})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);},className:styles.inputItem}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"New Password\",value:password,type:\"password\",onChange:function onChange(e){return setPassword(e.target.value);},className:styles.inputItem}),/*#__PURE__*/_jsx(\"div\",{className:styles.btnContainer,children:/*#__PURE__*/_jsx(\"button\",{className:\"\".concat(styles.button,\" \").concat(styles.signUp),children:\"Sign Up\"})})]})]});};export default RegisterForm;","map":{"version":3,"sources":["/Users/omarragab/Documents/Job/ResumeProject1/client/src/components/Landing/RegisterForm/RegisterForm.js"],"names":["styles","React","useState","useEffect","useMutation","useQuery","signUpMutation","CurrentUserQuery","history","LoadingSpinner","RegisterForm","setShowModal","showModal","errors","setErrors","signup","firstName","setFirstName","lastName","setLastName","name","setName","email","setEmail","password","setPassword","loading","setLoading","firstAndLastNameCombined","console","log","onSubmit","e","preventDefault","variables","refetchQueries","query","awaitRefetchQueries","then","push","catch","err","graphQLErrors","map","error","message","formContainer","xContainer","x","titleContainer","horizontalLine","form","sameLineInputContainer","sameLineInput","target","value","inputItem","btnContainer","button","signUp"],"mappings":"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","sourcesContent":["import styles from \"./RegisterForm.module.css\";\nimport React, { useState, useEffect } from \"react\";\nimport { useMutation, useQuery } from \"@apollo/client\";\n\nimport signUpMutation from \"../../../GQL/mutations/Signup\";\nimport CurrentUserQuery from \"../../../GQL/queries/CurrentUser\";\nimport history from \"../../../utils/history\";\nimport LoadingSpinner from \"../../LoadingSpinner/LoadingSpinner\";\n\nconst RegisterForm = ({ setShowModal, showModal }) => {\n  const [errors, setErrors] = useState([]);\n  const [signup] = useMutation(signUpMutation);\n  const [firstName, setFirstName] = useState(\"\");\n  const [lastName, setLastName] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    const firstAndLastNameCombined = `${firstName} ${lastName}`;\n    setName(firstAndLastNameCombined);\n    console.log(name);\n  }, [firstName, lastName]);\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n    setLoading(true);\n    signup({\n      variables: { name: name, email: email, password: password },\n      refetchQueries: [{ query: CurrentUserQuery }],\n      awaitRefetchQueries: true,\n    })\n      .then((e) => [e ? history.push(\"/home\") : null, setLoading(false)])\n      .catch((err) => {\n        const errors = err.graphQLErrors?.map((error) => error.message);\n        setErrors(errors);\n        console.log(errors);\n      });\n  };\n\n  return (\n    <div className={styles.formContainer}>\n      <div\n        onClick={() => setShowModal(!showModal)}\n        className={styles.xContainer}\n      >\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          width=\"24\"\n          height=\"24\"\n          className={styles.x}\n          viewBox=\"0 0 24 24\"\n        >\n          <path d=\"M24 20.188l-8.315-8.209 8.2-8.282-3.697-3.697-8.212 8.318-8.31-8.203-3.666 3.666 8.321 8.24-8.206 8.313 3.666 3.666 8.237-8.318 8.285 8.203z\" />\n        </svg>\n      </div>\n      <div className={styles.titleContainer}>\n        <h1>Sign Up</h1>\n\n        <p>It's quick and easy.</p>\n        <hr className={styles.horizontalLine} />\n      </div>\n\n      <form action=\"\" className={styles.form} onSubmit={(e) => onSubmit(e)}>\n        {loading ? (\n          <div className={styles.LoadingSpinner}>\n            <LoadingSpinner />\n          </div>\n        ) : null}\n        <div className={styles.sameLineInputContainer}>\n          <input\n            type=\"text\"\n            placeholder=\"First Name\"\n            value={firstName}\n            className={styles.sameLineInput}\n            onChange={(e) => setFirstName(e.target.value)}\n          />\n\n          <input\n            type=\"text\"\n            placeholder=\"Last Name\"\n            value={lastName}\n            className={styles.sameLineInput}\n            onChange={(e) => setLastName(e.target.value)}\n          />\n        </div>\n\n        <input\n          type=\"text\"\n          placeholder=\"Email\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n          className={styles.inputItem}\n        />\n\n        <input\n          placeholder=\"New Password\"\n          value={password}\n          type=\"password\"\n          onChange={(e) => setPassword(e.target.value)}\n          className={styles.inputItem}\n        />\n        <div className={styles.btnContainer}>\n          <button className={`${styles.button} ${styles.signUp}`}>\n            Sign Up\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default RegisterForm;\n"]},"metadata":{},"sourceType":"module"}